<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
    <mapper namespace="com.java.BoardDao">
    	<!-- 게시판 리스트 -->
    	<select id="boardList" parameterType="com.java.BoardCommon.Pagination" resultType="com.java.BoardDto.BoardVO">
    		select 
    				* 
    		from 
    				notice
    		order by 
    				notice_number desc
    		limit #{startList}, #{listSize}
    		
    	</select>
    	
    	<!-- 전체 게시글 수 -->
    	<select id="boardListCnt" resultType="int">
    	
    	select
    			count(*) as listCnt
    	from
    			notice
    			
    	</select>
    	
    	<!-- 게시글 작성 -->
    	<insert id="boardWrite" parameterType="com.java.BoardDto.BoardVO">
    		insert into 
    				notice(notice_title,notice_contents,customer_id,ref) 
    		values
    				( #{notice_title}, #{notice_contents},#{customer_id}, #{ref})
    	</insert>
    	
    	<!-- 게시글 상세보기 -->
    	<select id="boardContent" parameterType="int" resultType="com.java.BoardDto.BoardVO">
    		select 
    				* 
    		from 
    				notice 
    		where 
    				notice_number = #{notice_number}
    	</select>
    	
    	<select id="boardDeleteId" parameterType="int" resultType="String">
    		select 
    				customer_id 
    		from 
    				notice 
    		where notice_number = #{notice_number}
    	</select>
    	
    	<!-- 게시글 삭제 -->
    	<delete id="boardDelete">
    		delete from notice where notice_number = #{notice_number}
    	</delete>
    	
    	<!-- 게시글 업데이트  -->
    	<update id="boardUpdate" parameterType="com.java.BoardDto.BoardVO">
    		update notice 
    		set notice_title=#{notice_title}, notice_contents=#{notice_contents}, ref=#{ref}
    		where notice_number = #{notice_number} limit 1
    	</update>
    </mapper>