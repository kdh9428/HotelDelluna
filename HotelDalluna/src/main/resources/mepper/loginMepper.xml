<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
    <!-- 로그인 확인 -->
    <mapper namespace="com.java.dao.MemberAuthDao">
    	<select id="getUserById" resultType="com.java.dto.memberDetails">
        <![CDATA[
            SELECT
                *
            FROM
                customer
            WHERE
          		customer_id=#{CUSTOMER_ID}
        ]]>
    	</select>
    
    <!-- 회원가입  -->
   		<insert id="singup"  parameterType="com.java.dto.memberDetails">
	   		<![CDATA[
	   			insert into customer (CUSTOMER_ID, CUSTOMER_NAME, TEL, PASSWORD, userEmail, authority, birthday, userEmailChecked )
	   			values(#{customer_id}, #{customer_name}, #{tel}, #{password}, #{userEmail}, "ROLE_ADMIN", #{birthday}, 1 )
	   		]]>
   		</insert>
   		
   		<!-- id확인 -->
   		
   		<select id="doubleCheck" resultType="int" parameterType="string">
   			select 
   					count(*)
   			from 
   					customer
   			where 
   					customer_id = #{customer_id}
   		</select>
   		
   		<delete id="deleteee" parameterType="string">
   			delete from customer where customer_id = #{customer_id}
   		</delete>
   		
   		<!--회원정보 수정 ajax 비밀번호 체크 -->
   		
   		<select id="userPassword" resultType="String" parameterType="String">
   			select
   				password
   			from
   				customer
   			where 
   				customer_id = #{customer_id}
   		</select>
    
    </mapper>